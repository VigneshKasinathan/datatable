



<div *ngIf="errorMessage" [ngStyle]="errorStyle">{{ errorMessage }}</div>

<div *ngIf="filteredPost$ |async as filteredPost; else loading">
  <div *ngIf="filteredPost.length; else noData">
    <div>
      <input 
      type="text" 
      placeholder="Search..." 
      [(ngModel)]="searchTerms" 
      (ngModelChange)="onSearchTermChanged()"
      />
    
      <p>Search term: {{ searchTerms }}</p>
    </div>
    
    
    <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Price</th>
        <th>Description</th>
        <th>Category</th>
        <th>Image</th>
        <th>Rating Rate</th>
        <th>Rating Count</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of filteredPost$ | async">
        <td >{{ item.id }}</td>
        <td>{{ item.title }}</td>
        <td>{{ item.price }}</td>
        <td>{{ item.description }}</td>
        <td [innerHTML]="item.category | italic"></td>
        <td><img [src]="item.image" alt="{{ item.title }}" width="50"></td>
        <td>{{ item.rating.rate }}</td>
        <td>{{ item.rating.count }}</td>
      </tr>
    </tbody>
  </table>
  </div>
</div>



  <div *ngIf="filteredPostLength > pageSize">
    <button (click)="previousPage()" [disabled]="pageIndex === 0">Previous</button>

    <button (click)="nextPage()" [disabled]="pageIndex >= totalPages - 1">Next</button>
  </div>

  <ng-template #noData>Loading...</ng-template>
  <ng-template #loading>Loading...</ng-template>

  